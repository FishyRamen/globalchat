<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>tonkotsu.online</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <div id="bg"></div>
  <div id="cursorTrail" class="cursor-trail" aria-hidden="true"></div>

  <!-- Centered app card -->
  <div class="app-shell">
    <header class="topbar">
      <div class="brand">
        <div class="brandDot"></div>
        <div class="brandText">
          <div class="brandName">tonkotsu</div>
          <div class="brandSub" id="brandSub">chat</div>
        </div>
      </div>

      <div class="topActions">
        <button class="iconBtn" id="inboxBtn" title="Inbox">
          <span class="iconBell" aria-hidden="true"></span>
          <span class="badge" id="inboxBadge" hidden>0</span>
        </button>

        <button class="iconBtn" id="settingsBtn" title="Settings">
          <span class="iconGear" aria-hidden="true"></span>
        </button>

        <div class="mePill" id="mePill" title="Profile">
          <span id="meName">Guest0000</span>
          <span class="miniBadge" id="meLevel" hidden>Lv 1</span>
        </div>
      </div>
    </header>

    <main class="layout">
      <!-- LEFT -->
      <aside class="sidebar">
        <div class="panel">
          <div class="panelTitle">Messages</div>
          <div class="tabs">
            <button class="tabBtn active" data-view="global" id="tabGlobal">
              Global
            </button>
            <button class="tabBtn" data-view="dms" id="tabDMs">
              DMs <span class="pill" id="dmPill" hidden>0</span>
            </button>
            <button class="tabBtn" data-view="groups" id="tabGroups">
              GCs <span class="pill" id="gcPill" hidden>0</span>
            </button>
          </div>
        </div>

        <div class="panel">
          <div class="panelTitle">Online</div>
          <div class="list" id="onlineList"></div>
        </div>

        <footer class="sideFooter">
          <a class="kofi" href="https://ko-fi.com/fishy_x1" target="_blank" rel="noreferrer">
            Support on Ko-fi
          </a>
          <div class="copyright">© <span id="year"></span> tonkotsu — All rights reserved.</div>
        </footer>
      </aside>

      <!-- RIGHT -->
      <section class="content">
        <!-- LOGIN CARD (shown when logged out) -->
        <div class="card loginCard" id="loginCard">
          <div class="cardTitle">Welcome</div>
          <div class="cardSub">Login or continue as guest</div>

          <div class="formRow">
            <input id="username" class="input" placeholder="Username" autocomplete="username" />
          </div>

          <div class="formRow passwordRow">
            <input id="password" class="input" type="password" placeholder="Password" autocomplete="current-password" />
            <button class="eyeBtn" id="togglePw" title="Show/Hide password" aria-label="Show/Hide password">
              <!-- simple eye icon -->
              <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                <path d="M12 5C6.5 5 2.1 8.4 1 12c1.1 3.6 5.5 7 11 7s9.9-3.4 11-7c-1.1-3.6-5.5-7-11-7Zm0 11a4 4 0 1 1 0-8 4 4 0 0 1 0 8Z"/>
              </svg>
            </button>
          </div>

          <div class="formRow twoCol">
            <button class="btn primary" id="loginBtn">Login / Register</button>
            <button class="btn" id="guestBtn">Continue as Guest</button>
          </div>

          <div class="hint" id="loginHint"></div>
        </div>

        <!-- CHAT AREA -->
        <div class="card chatCard" id="chatCard" hidden>
          <div class="chatHeader">
            <div>
              <div class="chatTitle" id="chatTitle">Global</div>
              <div class="chatSubtitle" id="chatSubtitle">Public chat</div>
            </div>

            <div class="xpWrap" id="xpWrap" hidden>
              <div class="xpTop">
                <span class="xpLabel" id="xpLabel">Level 1</span>
                <span class="xpNums" id="xpNums">0 / 120</span>
              </div>
              <div class="xpBar">
                <div class="xpFill" id="xpFill" style="width:0%"></div>
              </div>
            </div>
          </div>

          <div class="messages" id="messages"></div>

          <div class="composer">
            <input class="input" id="messageInput" placeholder="Type a message..." />
            <button class="btn primary" id="sendBtn">Send</button>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Modals -->
  <div class="modalOverlay" id="overlay" hidden></div>

  <div class="modal" id="settingsModal" hidden>
    <div class="modalHeader">
      <div class="modalTitle">Settings</div>
      <button class="iconBtn" id="closeSettings" title="Close"><span class="iconX"></span></button>
    </div>

    <div class="modalBody">
      <div class="settingRow">
        <div class="settingText">
          <div class="settingName">Theme</div>
          <div class="settingDesc">Minimal dark by default.</div>
        </div>
        <select id="themeSelect" class="select">
          <option value="dark">dark</option>
          <option value="vortex">vortex</option>
          <option value="abyss">abyss</option>
          <option value="carbon">carbon</option>
        </select>
      </div>

      <div class="settingRow">
        <div class="settingText">
          <div class="settingName">Compactness</div>
          <div class="settingDesc">Tighten spacing + font scale.</div>
        </div>
        <input id="density" class="range" type="range" min="0" max="1" step="0.01" />
      </div>

      <div class="settingRow">
        <div class="settingText">
          <div class="settingName">Sidebar width</div>
          <div class="settingDesc">Make left panel narrower/wider.</div>
        </div>
        <input id="sidebar" class="range" type="range" min="0.16" max="0.32" step="0.01" />
      </div>

      <div class="settingRow">
        <div class="settingText">
          <div class="settingName">Custom cursor</div>
          <div class="settingDesc">Dynamic cursor + short trail.</div>
        </div>
        <label class="switch">
          <input type="checkbox" id="customCursor" />
          <span class="slider"></span>
        </label>
      </div>

      <div class="settingRow">
        <div class="settingText">
          <div class="settingName">Ping sound</div>
          <div class="settingDesc">Play a clean ping for DMs/GCs/inbox.</div>
        </div>
        <label class="switch">
          <input type="checkbox" id="pingSound" />
          <span class="slider"></span>
        </label>
      </div>

      <div class="settingRow">
        <div class="settingText">
          <div class="settingName">Ping volume</div>
          <div class="settingDesc">Smooth slider.</div>
        </div>
        <input id="pingVolume" class="range" type="range" min="0" max="1" step="0.01" />
      </div>
    </div>
  </div>

  <div class="modal" id="inboxModal" hidden>
    <div class="modalHeader">
      <div class="modalTitle">Inbox</div>
      <button class="iconBtn" id="closeInbox" title="Close"><span class="iconX"></span></button>
    </div>
    <div class="modalBody">
      <div class="inboxSection">
        <div class="sectionTitle">Friend requests</div>
        <div id="friendRequests"></div>
      </div>
      <div class="inboxSection">
        <div class="sectionTitle">Group chat invites</div>
        <div id="groupInvites"></div>
      </div>
    </div>
  </div>

  <div class="toastHost" id="toastHost"></div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="/script.js"></script>
</body>
</html>
